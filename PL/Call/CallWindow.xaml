<Window x:Class="PL.Call.CallWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL.Call"
        mc:Ignorable="d"
        Title="CallWindow" Height="640" Width="800">


    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <!-- שורה חדשה לכפתור -->
            </Grid.RowDefinitions>

            <!-- ID -->
            <Label Content="ID:" Grid.Row="0" HorizontalAlignment="Left" />
            <TextBox Text="{Binding Call.Id}" Grid.Row="0" Margin="100,0" HorizontalAlignment="Stretch" 
                     IsReadOnly="{Binding Call.Id}"/>

            <!-- Description -->
            <Label Content="Description:" Grid.Row="1" HorizontalAlignment="Left" />
            <TextBox Text="{Binding Call.Description, UpdateSourceTrigger=PropertyChanged}" Grid.Row="1" Margin="100,0" HorizontalAlignment="Stretch"/>

            <!-- Call Type -->
            <Label Content="Call Type:" Grid.Row="2" HorizontalAlignment="Left" />
            <ComboBox ItemsSource="{Binding Source={StaticResource RolesKey}}" 
                      SelectedItem="{Binding Call.CallType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                      Grid.Row="2" Margin="100,0">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <Grid>
                            <TextBlock Text="{Binding}" VerticalAlignment="Center" HorizontalAlignment="Left" Padding="10"/>
                        </Grid>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <!-- Status -->
            <Label Content="Status:" Grid.Row="3" HorizontalAlignment="Left" />
            <TextBox Text="{Binding Call.Status, UpdateSourceTrigger=PropertyChanged}" Grid.Row="3" Margin="100,0" HorizontalAlignment="Stretch"/>

            <!-- Open Time -->
            <Label Content="Open Time:" Grid.Row="4" HorizontalAlignment="Left" />
            <TextBox Text="{Binding Call.OpenTime, UpdateSourceTrigger=PropertyChanged, StringFormat=G}" Grid.Row="4" Margin="100,0" HorizontalAlignment="Stretch"/>

            <!-- Max Completion Time -->
            <Label Content="Max Completion Time:" Grid.Row="5" HorizontalAlignment="Left" />
            <TextBox Text="{Binding Call.MaxCompletionTime, UpdateSourceTrigger=PropertyChanged, StringFormat=G}" Grid.Row="5" Margin="100,0" HorizontalAlignment="Stretch"/>

            <!-- Distance -->
            <Label Content="Distance:" Grid.Row="6" HorizontalAlignment="Left" />
            <TextBox Text="{Binding Call.Distance, UpdateSourceTrigger=PropertyChanged}" Grid.Row="6" Margin="100,0" HorizontalAlignment="Stretch"/>

            <!-- Address -->
            <Label Content="Address:" Grid.Row="7" HorizontalAlignment="Left" />
            <TextBox Text="{Binding Call.FullAddress, UpdateSourceTrigger=PropertyChanged}" Grid.Row="7" Margin="100,0" HorizontalAlignment="Stretch"/>

            <!-- Button (Add/Update) -->
            <Button Content="{Binding ButtonText}" 
                    Click="btnAddUpdate_Click" 
                    Grid.Row="8" 
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Top" 
                    Height="39" 
                    Width="118" />
        </Grid>
    </ScrollViewer>
</Window>
